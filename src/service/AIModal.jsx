import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for location: Las Vegas ,for 3 Days for Couple with a Cheap Budget ,Give me a hotels options list with HotelName ,Hotel address ,Price ,Hotel image url , geocoordinates ,rating , descriptions and suggest itinerary with placename ,Place Details ,Place Image Url ,Geo Coordinates ,tickets Pricing ,rating ,Time Travel each of the location for 3 days with each day plan best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a 3-day budget-friendly Las Vegas itinerary for a couple, along with hotel options and detailed descriptions, all in JSON format.  I'll focus on free or low-cost activities and prioritize affordability for hotels.  Remember that prices can fluctuate, so it's always best to double-check before booking.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Two (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night (depending on season/deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/8c/14/e8/circus-circus-hotel-casino.jpg\",\n      \"geocoordinates\": {\n        \"latitude\": 36.1260,\n        \"longitude\": -115.1654\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme. Offers affordable rooms and a variety of entertainment, including free circus acts.  A bit dated but budget-friendly.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50 - $90 per night (depending on season/deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/f1/51/0b/the-strat-hotel-casino.jpg\",\n      \"geocoordinates\": {\n        \"latitude\": 36.1471,\n        \"longitude\": -115.1553\n      },\n      \"rating\": 3.7,\n      \"description\": \"Features a tall observation tower with thrilling rides (extra cost). Rooms are generally affordable. Located a bit north of the main Strip action, so factor in travel time.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $100 per night (depending on season/deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/27/93/25/a1/excalibur-hotel-casino.jpg\",\n      \"geocoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1747\n      },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel on the south end of the Strip. Offers generally affordable rates and a family-friendly atmosphere. Good location.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Shows\",\n      \"bestTimeToVisit\": \"Morning to Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity.  Can be crowded, especially in the afternoon.\",\n          \"placeImageUrl\": \"https://www.lasvegas.com/wp-content/uploads/2023/04/welcome-to-las-vegas-sign-1440x810.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1732\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTimeFromHotel\": \"15-25 minutes (depending on hotel and transportation - bus or rideshare recommended)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful, free botanical display that changes seasonally. Inside the Bellagio Hotel.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-chinese-new-year-display-photo.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1744\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"travelTimeFromPrevious\": \"15 minutes (walking along the strip)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular free water show synchronized to music. Shows run frequently in the afternoon and evening.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-daytime-performance-photo.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1744\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"travelTimeFromPrevious\": \"Adjacent to the Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Strip South\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the southern end of the Las Vegas Strip.  Pass by the Eiffel Tower at Paris, the Venetian canals (exterior views), and the Luxor pyramid.\",\n          \"placeImageUrl\": \"https://handluggageonly.co.uk/wp-content/uploads/2016/05/Hand-Luggage-Only-6-Things-To-Do-In-Vegas-10.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1033,\n            \"longitude\": -115.1730\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"travelTimeFromPrevious\": \"Walk along the strip as desired\"\n        },\n        {\n          \"placeName\": \"Free Show at Planet Hollywood's Miracle Mile Shops\",\n          \"placeDetails\": \"Check the schedule for free shows at the Miracle Mile Shops, such as the indoor rainstorm.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/05/7a/97/73/miracle-mile-shops-at.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1114,\n            \"longitude\": -115.1739\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 3.8,\n          \"travelTimeFromPrevious\": \"10 minutes (walking north)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon to Night\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive LED canopy displaying light shows and offering free live music.  More lively at night.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/02/fse-screen_720x480_01-360x240.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1421\n          },\n          \"ticketsPricing\": \"Free (some attractions within Fremont Street have fees)\",\n          \"rating\": 4.6,\n          \"travelTimeFromHotel\": \"20-35 minutes (depending on hotel, bus or rideshare is best)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"An open-air shopping center made from repurposed shipping containers.  Unique shops and restaurants.\",\n          \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2023/09/DCP-Homepage-Carousel-Night-1920x733.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1684,\n            \"longitude\": -115.1406\n          },\n          \"ticketsPricing\": \"Free entry, but purchases at shops/restaurants cost money\",\n          \"rating\": 4.3,\n          \"travelTimeFromPrevious\": \"5 minute walk from Fremont Street\"\n        },\n        {\n          \"placeName\": \"Walk Downtown Las Vegas\",\n          \"placeDetails\": \"Explore the older casinos and street art in downtown Las Vegas.  A different vibe than the Strip.\",\n          \"placeImageUrl\": \"https://www.reviewjournal.com/wp-content/uploads/2017/01/7921411_web1_lvlj_dtlv_16_050416jo_024-1.jpg?w=630\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1400\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"travelTimeFromPrevious\": \"Walking distance from Container Park\"\n        },\n          {\n          \"placeName\": \"Free Concerts on Fremont Street\",\n          \"placeDetails\": \"Check the Fremont Street Experience website for free concerts. Many cover bands but fun and entertaining.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2024/03/81583384_2691774087773723_2732445226598453248_n-scaled.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1421\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.1,\n          \"travelTimeFromPrevious\": \"Same location as Fremont Street Experience\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller & Cheap Eats\",\n      \"bestTimeToVisit\": \"Afternoon to Evening\",\n      \"places\": [\n         {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Consider Happy Hour)\",\n          \"placeDetails\": \"Giant Ferris wheel with great views of the city.  Can be expensive during peak hours, so consider going during Happy Hour (earlier in the day) or look for discounted tickets online.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/clv/Destinations/Las_Vegas_Observation_Wheel_at_LINQ_Hotel/high-roller/page-header/lvlo-high-roller-exterior-day-full.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1694\n          },\n          \"ticketsPricing\": \"$25 - $40 (Depending on time of day and discounts)\",\n          \"rating\": 4.4,\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping and dining area near the High Roller.  Window shopping is free!\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2016/08/linq-promenade-1440x810.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1160,\n            \"longitude\": -115.1690\n          },\n          \"ticketsPricing\": \"Free entry, costs for shops/restaurants\",\n          \"rating\": 4.1,\n          \"travelTimeFromPrevious\": \"Located at the base of the High Roller\"\n        },\n        {\n          \"placeName\": \"Explore Hotel Themes (Venetian, Paris)\",\n          \"placeDetails\": \"Wander through hotels like the Venetian (indoor canals and gondolas) and Paris Las Vegas (Eiffel Tower replica - exterior). Immerse yourselves in the themes.\",\n          \"placeImageUrl\": \"https://planetofhotels.com/guide/sites/default/files/styles/node_gallery_main/public/text_resize/hotel_venetian_las_vegas_1.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.1706\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"travelTimeFromPrevious\": \"Walk the Strip to visit different hotels. Paris is south of Venetian.\"\n        },\n        {\n          \"placeName\": \"M&M's World/Coca-Cola Store\",\n          \"placeDetails\": \"Multi-story themed stores offering unique candies and souvenirs. Fun to browse, even if you don't buy anything.\",\n          \"placeImageUrl\": \"https://www.attractionsmagazine.com/wp-content/uploads/2021/07/Exterior-view-of-M-Ms-World-Las-Vegas.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1105,\n            \"longitude\": -115.1718\n          },\n          \"ticketsPricing\": \"Free entry, costs for purchases\",\n          \"rating\": 4.0,\n          \"travelTimeFromPrevious\": \"Walking distance along the Strip.\"\n        },\n        {\n          \"placeName\": \"Cheap Eats - Options\",\n          \"placeDetails\": \"Explore affordable dining options like In-N-Out Burger, White Castle, or food courts in the casinos.\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_640,q_75,w_640/v1/clients/lasvegas/Food_FoodTruck_Pizza_30a109d7-3262-4994-9d2f-0577d94b2e6c.jpg\",\n          \"geocoordinates\": {\n            \"latitude\": 36.1100,\n            \"longitude\": -115.1700\n          },\n          \"ticketsPricing\": \"Varies, typically under $15 per person\",\n          \"rating\": 4.0,\n          \"travelTimeFromPrevious\": \"Multiple locations available on and off the Strip\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"This itinerary focuses on free or low-cost activities.\",\n    \"Hotel prices are estimates and vary based on season and availability.  Book in advance for better deals.\",\n    \"Consider using public transportation (bus) or rideshares to save money on transportation.\",\n    \"Take advantage of free drinks while gambling (tip your server!).\",\n    \"Look for happy hour specials for discounted drinks and food.\",\n    \"Bring comfortable shoes as you'll be doing a lot of walking.\",\n    \"Stay hydrated, especially during the hot summer months.\",\n    \"Check show schedules in advance to plan your evenings.\",\n    \"Be aware of your surroundings and keep your belongings safe.\"\n  ]\n}\n```\n\n**Important Considerations:**\n\n*   **Hotel Prices:** Hotel prices in Las Vegas fluctuate dramatically based on demand, especially on weekends and during conventions. Check prices *well* in advance.  Consider staying mid-week for better deals.\n*   **Transportation:** Walking is a great way to see the Strip, but it's *long*. Use the bus, monorail (if you're staying near a station), or rideshares.\n*   **Food and Drink:** Las Vegas can be expensive for food and drinks. Look for happy hour specials, eat at off-Strip restaurants, or utilize grocery stores.\n*   **Free Activities:** This itinerary focuses on free activities.  Take advantage of the free shows, gardens, and attractions within the casinos.\n*   **Flexibility:** Be flexible and adjust the itinerary based on your interests and energy levels.\n\nRemember to check official websites for show schedules, ticket prices, and opening hours before you go.  Have a great trip!\n"},
          ],
        },
      ],
    });
  
 